\documentclass[a4paper,12pt, openany]{book}  % Book class for thesis 
\usepackage[utf8]{inputenc}
\usepackage{graphicx}
\usepackage{geometry}
\geometry{left=2cm, right=2cm, top=2cm, bottom=2cm} 
\usepackage{setspace}
\setstretch{1}
\raggedbottom
\usepackage{titlesec}
\usepackage[toc,page]{appendix}
\titleformat{\subsection}[hang]{\normalfont\large\bfseries}{\thesubsection}{1em}{}
\titlespacing*{\subsection}{0pt}{\baselineskip}{0.5\baselineskip}
\usepackage[bottom]{footmisc}
\usepackage{ragged2e}
\usepackage{lmodern}
\usepackage{fancyhdr}
\usepackage{tocloft}
\usepackage{xcolor}
\usepackage[
    colorlinks=true,        % disables boxes around links
    urlcolor=teal,          % URL link color
    linkcolor=black,        % color of internal links (e.g., TOC)
    citecolor=blue
]{hyperref}
\usepackage[nameinlink,noabbrev]{cleveref}
\usepackage{array}
\usepackage[nottoc]{tocbibind}
\usepackage{booktabs}
\usepackage{float}
\usepackage[T1]{fontenc}
\usepackage{soul}  
\usepackage[font=bf,labelfont=bf,justification=raggedright,singlelinecheck=false]{caption}
%\captionsetup{font={bf,small}}
\captionsetup{font={bf,small}, labelfont=bf, justification=raggedright, singlelinecheck=false}
\usepackage{chngcntr}
\counterwithout{figure}{chapter}
\counterwithout{table}{chapter}

\usepackage{multirow, tabularx, xurl}

\usepackage[authordate,backend=biber,natbib]{biblatex-chicago}
\ExecuteBibliographyOptions{maxcitenames=2, mincitenames=1}
\DeclareDelimFormat{nameyeardelim}{\addcomma\space}
\addbibresource{references.bib}
\AtEveryCitekey{%
  \ifciteseen
    {}
    {\color{blue}}%
}
\renewbibmacro*{doi+eprint+url}{
  \printfield{doi}
}
\DeclareCiteCommand{\citep}
  {\begingroup(}  % Start a group, manually insert black opening parenthesis
  {\color{blue}\usebibmacro{citeindex}%
   \usebibmacro{cite}}
  {\multicitedelim}
  {\usebibmacro{postnote}\endgroup)}  % Close blue group, then black parenthesis
\DeclareFieldFormat{doi}{%
  DOI: \ifhyperref
    {\href{https://doi.org/#1}{#1}}
    {#1}}

% Page numbering setup (BOTTOM CENTER)
\pagestyle{fancy}
\fancyhf{} % Clear all headers and footers
\renewcommand{\headrulewidth}{0pt} % Remove header line
\fancyfoot[C]{\thepage} % Center page number in footer

% Apply same style to chapter start pages
\fancypagestyle{plain}{%
  \fancyhf{}
  \renewcommand{\headrulewidth}{0pt}
  \fancyfoot[C]{\thepage}
}

% Chapter formatting
\titleformat{\chapter}[display]
  {\normalfont\huge\bfseries}
  {\chaptertitlename\ \thechapter}{20pt}{\Huge} 


% Customize Table of Contents
\setlength{\cftbeforetoctitleskip}{-1em} % Reduce space before title
\setlength{\cftaftertoctitleskip}{1.5em} % Space after title
\setlength{\cftbeforetoctitleskip}{50pt} % Space above TOC title (same as chapters)
\renewcommand{\cftchappagefont}{\normalfont} % Page numbers normal
\renewcommand{\cftchapdotsep}{\cftdotsep} % Add dot leaders
\setlength{\cftbeforesecskip}{0.5ex} % Reduce space between sections
% Add List of Figures/Tables to TOC
\renewcommand{\listfigurename}{List of Figures}
\renewcommand{\listtablename}{List of Tables}

\usepackage{pdfcomment}
\begin{document}

% Frontispiece
\begin{titlepage}
    \centering
    \includegraphics[width=0.2\textwidth]{images/unibo-logo.pdf}
    
    \vspace*{1cm}
    \Large
    \textbf{ALMA MATER STUDIORUM \\ 
    UNIVERSITÀ DI BOLOGNA}
    
    
    \vspace{1.5cm}
    
    \normalsize
    \textsc{Department of Classical Philology and Italian Studies} \\
    \vspace{0.5cm}
    \textsc{Second Cycle Degree in} \\
    \vspace{0.2cm}
    \textsc{\textbf{Digital Humanities and Digital Knowledge}}
    
    \vspace{1.6cm}
    
    \begin{spacing}{1}
    \LARGE
    \textbf{From Documents to Dialogue:\\Design, Implementation and Evaluation of a Question-Answering System for Geoportale Nazionale Archeologia}
    \end{spacing}
    
    \vspace{1.2cm}
    \normalsize
    Dissertation in\\
    \textbf{Machine Learning for the Arts and Humanities}
    
    \vspace{1cm}
    
    \begin{tabbing}
    \textbf{Supervisor} \hspace{10cm} \= \textbf{Defended by} \\
    Prof. Giovanni Colavizza \> Lucrezia Pograri \\
    \\
    \textbf{Co-Supervisors}\\
    Prof. Paolo Bonora \\
    Mario Caruso and Simone Persiani, BUP Solutions
    \end{tabbing}
    
    \vfill
    \rule{\linewidth}{0.4pt}
    \vspace{0.2cm}
    
    \textbf{Graduation Session II} \\
    \textbf{Academic Year 2024/2025}
    
\end{titlepage}
\newpage
\thispagestyle{empty}  % Force blank page to have no header/footer
\mbox{}                % Prevent "empty page" warning
\setcounter{figure}{0}

%\pagestyle{empty}
% Front Matter (Roman page numbering)
\frontmatter
\pagestyle{fancy}
\tableofcontents

% Abstract
\input{chapters/abstract}
\clearpage
\listoffigures
\clearpage
\listoftables

\newpage
\thispagestyle{empty} 
\mbox{}                
\setcounter{figure}{0}

% Main Content (Arabic page numbering)
\mainmatter
\pagestyle{fancy}
\renewcommand{\figureautorefname}{Fig.}
\renewcommand{\tableautorefname}{Tab.}
\renewcommand{\chapterautorefname}{Chap.}
\renewcommand{\sectionautorefname}{§}
\makeatletter
\renewcommand{\thefootnote}{\textsuperscript{\arabic{footnote}}}
\renewcommand\@makefntext[1]{%
  \noindent
  \parindent=0pt
  \leftskip=0pt
  \hb@xt@1.8em{\hss\@thefnmark}#1%
}
\makeatother
\input{chapters/introduction}
\input{chapters/QAS}
\input{chapters/SOTA}
\input{chapters/casestudy}
\input{chapters/methodology}
\input{chapters/results}
\input{chapters/discussion}
\input{chapters/conclusion}

\clearpage
% Appendices
\begin{appendices}
    \chapter{Implementation details}
    \label{appendix:A}

In this study, all the experiments have been performed on a system with an Intel Core i7-1185G7 CPU at 3.00 GHz, 16 GB of RAM, and integrated Intel Iris Xe Graphics with 128 MB of VRAM. Additionally, the following software packages have been used to implement the proposed approach: PyTorch, NumPy, Pandas, Matplotlib, SpaCy, HuggingFace...

\chapter{Abbreviations}
\label{appendix:B}
\autoref{tab:abbreviations} describes the abbreviations and acronyms used throughout the chapters.


\begin{table}[H]
\centering
\footnotesize
\begin{tabularx}{\textwidth}{ l l >{\justifying\arraybackslash}X }
\toprule
\textbf{Abbreviation} & \textbf{Full Form} & \textbf{Glossary Definition} \\
\midrule
AI    & Artificial Intelligence & The field of computer science dedicated to creating systems capable of performing tasks that typically require human intelligence, such as reasoning, learning, and problem-solving. \\
\cmidrule(lr){1-2}
DH    & Digital Humanities & An interdisciplinary field that applies computational methods and tools to humanities research, analysis, and dissemination. \\
\cmidrule(lr){1-2}
QA    & Question-Answering & A technology or task in which a system provides precise answers to questions posed in natural language. \\
\cmidrule(lr){1-2}
QAS   & Question-Answering System & A system designed to answer questions automatically by processing natural language input, often using methods from IR and NLP. \\
\cmidrule(lr){1-2}
RAG   & Retrieval-Augmented Generation & An approach combining information retrieval with generative models, allowing AI to reference external data sources when generating answers. \\
\cmidrule(lr){1-2}
LLM   & Large Language Model & A neural network trained on massive text corpora to generate or understand human language, such as GPT or BERT. \\
\cmidrule(lr){1-2}
IR    & Information Retrieval & The process of searching, retrieving, and ranking relevant documents or data from large collections based on user queries. \\
\cmidrule(lr){1-2}
KB    & Knowledge Base & A structured collection of information or data, often used to support reasoning, search, or retrieval in AI systems. \\
\cmidrule(lr){1-2}
NLP   & Natural Language Processing & The area of AI focused on enabling computers to understand, interpret, and generate human language. \\
\cmidrule(lr){1-2}
ML    & Machine Learning & A subset of AI that involves training algorithms to recognize patterns and make decisions based on data. \\
\cmidrule(lr){1-2}
TF-IDF & Term Frequency-Inverse Document Frequency & A statistical measure used in IR to evaluate how important a word is to a document relative to a corpus, balancing term frequency and document rarity. \\
\cmidrule(lr){1-2}
BM25  & Best Match 25 & A ranking function used in IR to estimate the relevance of documents to a given search query, based on term frequency and document length normalization. \\
\cmidrule(lr){1-2}
TREC  & Text REtrieval Conference & An ongoing series of workshops and evaluations focused on advancing research in text retrieval and related tasks. \\
\cmidrule(lr){1-2}
RNN   & Recurrent Neural Network & A type of neural network architecture designed to process sequential data by maintaining a form of memory of previous inputs. \\
\cmidrule(lr){1-2}
LSTM  & Long Short-Term Memory & A special kind of RNN capable of learning long-range dependencies, often used for tasks like language modeling or time series prediction. \\
\cmidrule(lr){1-2}
CRF   & Conditional Random Field & A probabilistic graphical model used for structured prediction, especially in NLP tasks such as sequence labeling. \\
\cmidrule(lr){1-2}
SVM   & Support Vector Machine & A supervised machine learning algorithm used for classification and regression, which finds the optimal boundary between classes in the feature space. \\
\bottomrule
\end{tabularx}
\caption{Abbreviations and acronyms used in the thesis with their full forms and definitions.}
\label{tab:abbreviations}
\end{table}


\end{appendices}


\chapter*{Acknowledgments}
\addcontentsline{toc}{chapter}{Acknowledgments}

% Back Matter
\backmatter
\pagestyle{fancy}
\cleardoublepage
\phantomsection
\addcontentsline{toc}{chapter}{Bibliography}
\printbibliography

\end{document}